[{"/home/todd/sites/react-projects/full-stack-open-2020/part2/phonebook/src/index.js":"1","/home/todd/sites/react-projects/full-stack-open-2020/part2/phonebook/src/App.js":"2","/home/todd/sites/react-projects/full-stack-open-2020/part2/phonebook/src/services/persons.js":"3","/home/todd/sites/react-projects/full-stack-open-2020/part2/phonebook/src/components/Persons.js":"4","/home/todd/sites/react-projects/full-stack-open-2020/part2/phonebook/src/components/Person.js":"5","/home/todd/sites/react-projects/full-stack-open-2020/part2/phonebook/src/components/Filter.js":"6","/home/todd/sites/react-projects/full-stack-open-2020/part2/phonebook/src/components/PersonForm.js":"7","/home/todd/sites/react-projects/full-stack-open-2020/part2/phonebook/src/components/Notification.js":"8"},{"size":148,"mtime":1610619579300,"results":"9","hashOfConfig":"10"},{"size":3951,"mtime":1611255208392,"results":"11","hashOfConfig":"10"},{"size":573,"mtime":1611245129452,"results":"12","hashOfConfig":"10"},{"size":305,"mtime":1611073298748,"results":"13","hashOfConfig":"10"},{"size":218,"mtime":1611073413998,"results":"14","hashOfConfig":"10"},{"size":259,"mtime":1611072358008,"results":"15","hashOfConfig":"10"},{"size":541,"mtime":1611072411228,"results":"16","hashOfConfig":"10"},{"size":388,"mtime":1611255249432,"results":"17","hashOfConfig":"10"},{"filePath":"18","messages":"19","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"20"},"zqmgce",{"filePath":"21","messages":"22","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":2,"source":"23","usedDeprecatedRules":"20"},{"filePath":"24","messages":"25","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"26","usedDeprecatedRules":"20"},{"filePath":"27","messages":"28","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"20"},{"filePath":"29","messages":"30","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"31"},{"filePath":"32","messages":"33","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"20"},{"filePath":"34","messages":"35","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"20"},{"filePath":"36","messages":"37","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"20"},"/home/todd/sites/react-projects/full-stack-open-2020/part2/phonebook/src/index.js",[],["38","39"],"/home/todd/sites/react-projects/full-stack-open-2020/part2/phonebook/src/App.js",["40","41","42"],"import Filter from './components/Filter'\nimport noteService from './services/persons'\nimport PersonForm from './components/PersonForm'\nimport Persons from './components/Persons'\nimport Notification from './components/Notification'\nimport React, { useState, useEffect } from 'react'\nimport axios from 'axios'\n\nconst App = () => {\n  // State\n  const [persons, setPersons] = useState([])\n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber ] = useState('')\n  const [ newSearch, setNewSearch ] = useState('')\n  const [ successMessage, setSuccessMessage] = useState(null)\n  const [ errorMessage, setErrorMessage ] = useState(null)\n\n  ////////////////////////\n  // Functions\n  ///////////////////////\n  const addPerson = (event) => {\n    event.preventDefault()\n    const personObject = { \n      name: newName,\n      number: newNumber\n    }\n    const filteredPerson = persons.find(person => person.name === newName)\n    if (filteredPerson) {\n      const message = `${newName} is already added to phonebook, replace the old number with a new one?`\n      const confirmedDelete = window.confirm(message)\n      if(confirmedDelete) {\n        noteService.\n          updatePerson(personObject, filteredPerson.id)\n          .then(revisedPerson => {\n            setPersons(persons.map(person => person.id !== filteredPerson.id ? person : revisedPerson))\n            setNewNumber('')\n            setNewName('')\n            setSuccessMessage(`${revisedPerson.name} was updated`)\n            setTimeout(() => {\n              setSuccessMessage(null)\n            }, 5000)\n          })\n          .catch(error => {\n            setErrorMessage(`Information of ${filteredPerson.name} has already been removed from server`)\n            setTimeout(() => {\n              setErrorMessage(null)\n            }, 5000)\n            setPersons(persons.filter(person => person.id !== filteredPerson.id))\n          })\n      }\n    } else {\n      noteService\n        .create(personObject)\n        .then(returnedPerson => {\n          setPersons(persons.concat(returnedPerson))\n          setNewNumber('')\n          setNewName('')\n          setSuccessMessage(`${returnedPerson.name} was added`)\n            setTimeout(() => {\n              setSuccessMessage(null)\n            }, 5000)\n        } )\n    }\n  }\n\n  const hook = () => {\n    noteService\n      .getAll()\n        .then(initialPersons => \n          setPersons(initialPersons)\n        )\n  }\n  \n  useEffect(hook, [])\n\n  const personsToSearch = !newSearch\n    ? persons\n    : persons.filter( (person) => person.name.toLowerCase().includes(newSearch.toLowerCase()))\n\n  ////////////////////////// \n  // Event Handlers\n  //////////////////////////\n\n  const handleDeleteRequest = (personToDelete) => {\n    const message = `Delete ${personToDelete.name}?`\n    const confirmedDelete = window.confirm(message)\n    if(confirmedDelete) {\n      noteService.\n        deletePerson(personToDelete.id)\n        .then(response => {\n          const revisedPersons = persons.filter( person => person.id !== personToDelete.id )\n          setPersons(revisedPersons)\n        })\n    }\n  }\n\n  const handleNameChange = (event) => {\n    setNewName(event.target.value)\n  }\n\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value)\n  }\n\n  const handleSearchChange = (event) => {\n    setNewSearch(event.target.value)\n  }\n\n  // JSX\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={successMessage} color=\"green\" />\n      <Notification message={errorMessage} color=\"red\" /> \n      <Filter newSearch={newSearch} handleSearchChange={handleSearchChange} />\n      <h3>add a new</h3>\n      <PersonForm newName={newName} newNumber={newNumber} handleNameChange={handleNameChange} handleNumberChange={handleNumberChange} addPerson={addPerson} />\n      <h3>Numbers</h3>\n      <Persons personsToSearch={personsToSearch} handleDeleteRequest={handleDeleteRequest} />\n    </div>\n  )\n\n}\n\nexport default App;","/home/todd/sites/react-projects/full-stack-open-2020/part2/phonebook/src/services/persons.js",["43"],"import axios from 'axios'\nconst baseUrl = 'http://localhost:3001/persons'\n\nconst getAll = () => {\n  return axios.get(baseUrl).then(response => response.data)\n}\n\nconst create = (newObject) => {\n  return axios.post(baseUrl, newObject).then(response => response.data)\n}\n\nconst deletePerson = (id) => {\n  return axios.delete(`${baseUrl}/${id}`).then(response => response.data)\n}\n\nconst updatePerson = (updatedObject, id) => {\n  return axios.put(`${baseUrl}/${id}`, updatedObject ).then(response => response.data)\n}\n\nexport default { getAll, create, deletePerson, updatePerson }","/home/todd/sites/react-projects/full-stack-open-2020/part2/phonebook/src/components/Persons.js",[],"/home/todd/sites/react-projects/full-stack-open-2020/part2/phonebook/src/components/Person.js",[],["44","45"],"/home/todd/sites/react-projects/full-stack-open-2020/part2/phonebook/src/components/Filter.js",[],"/home/todd/sites/react-projects/full-stack-open-2020/part2/phonebook/src/components/PersonForm.js",[],"/home/todd/sites/react-projects/full-stack-open-2020/part2/phonebook/src/components/Notification.js",[],{"ruleId":"46","replacedBy":"47"},{"ruleId":"48","replacedBy":"49"},{"ruleId":"50","severity":1,"message":"51","line":7,"column":8,"nodeType":"52","messageId":"53","endLine":7,"endColumn":13},{"ruleId":"54","severity":1,"message":"55","line":32,"column":20,"nodeType":"56","messageId":"57","endLine":32,"endColumn":21,"fix":"58"},{"ruleId":"54","severity":1,"message":"55","line":88,"column":18,"nodeType":"56","messageId":"57","endLine":88,"endColumn":19,"fix":"59"},{"ruleId":"60","severity":1,"message":"61","line":20,"column":1,"nodeType":"62","endLine":20,"endColumn":62},{"ruleId":"46","replacedBy":"63"},{"ruleId":"48","replacedBy":"64"},"no-native-reassign",["65"],"no-negated-in-lhs",["66"],"no-unused-vars","'axios' is defined but never used.","Identifier","unusedVar","dot-location","Expected dot to be on same line as property.","MemberExpression","expectedDotBeforeProperty",{"range":"67","text":"68"},{"range":"69","text":"70"},"import/no-anonymous-default-export","Assign object to a variable before exporting as module default","ExportDefaultDeclaration",["65"],["66"],"no-global-assign","no-unsafe-negation",[1170,1182],"\n          .",[2887,2897],"\n        ."]